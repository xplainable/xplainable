
<style>
  #altair-viz-ba8b4783c08e4f2a9467898ae9f4c1e0.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-ba8b4783c08e4f2a9467898ae9f4c1e0.vega-embed details,
  #altair-viz-ba8b4783c08e4f2a9467898ae9f4c1e0.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-ba8b4783c08e4f2a9467898ae9f4c1e0"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-ba8b4783c08e4f2a9467898ae9f4c1e0") {
      outputDiv = document.getElementById("altair-viz-ba8b4783c08e4f2a9467898ae9f4c1e0");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"mark": {"type": "bar", "color": "#0080ea"}, "encoding": {"color": {"condition": {"param": "param_1", "value": "lightgray"}, "value": "#0080ea"}, "tooltip": {"field": "importance_label", "type": "nominal"}, "x": {"field": "importance", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "importance", "order": "descending"}, "type": "nominal"}}, "height": 400, "name": "view_1", "title": "Feature Importances", "transform": [{"filter": {"param": "param_2"}}], "width": 330}, {"mark": {"type": "bar", "color": "#0080ea"}, "encoding": {"x": {"axis": {"labels": false, "title": null}, "field": "importance", "type": "quantitative"}, "y": {"axis": {"labels": false, "title": null}, "field": "feature", "sort": "-x", "type": "nominal"}}, "height": 400, "name": "view_2", "width": 25}, {"data": {"name": "data-15909cd674847a01aefc7278f33eb52f"}, "mark": {"type": "bar", "color": "#e14067"}, "encoding": {"color": {"condition": {"test": "(datum.contribution < 0)", "value": "#e14067"}, "value": "#12b980"}, "tooltip": {"field": "score_label", "type": "nominal"}, "x": {"field": "val", "type": "quantitative"}, "y": {"field": "value", "sort": {"field": "index", "order": "descending"}, "type": "nominal"}}, "height": 400, "name": "view_3", "title": "Contributions", "transform": [{"fold": ["contribution", "mean", "frequency"], "as": ["column", "val"]}, {"filter": {"param": "Select"}}, {"filter": {"param": "param_1"}}, {"filter": {"param": "param_3"}}], "width": 330}, {"data": {"name": "data-15909cd674847a01aefc7278f33eb52f"}, "mark": {"type": "bar", "color": "#e14067"}, "encoding": {"color": {"condition": {"test": "(datum.contribution < 0)", "value": "#e14067"}, "value": "#12b980"}, "x": {"axis": {"labels": false, "title": null}, "field": "contribution", "type": "quantitative"}, "y": {"axis": {"labels": false, "title": null}, "field": "value", "sort": {"field": "index", "order": "descending"}, "type": "nominal"}}, "height": 400, "name": "view_4", "transform": [{"filter": {"param": "param_1"}}], "width": 25}], "data": {"name": "data-85171f6d95b64eccc4f33e1edafc4568"}, "params": [{"name": "param_1", "select": {"type": "point", "fields": ["feature"]}, "value": "Rotational speed [rpm]", "views": ["view_1"]}, {"name": "Select", "select": {"type": "point", "fields": ["column"]}, "bind": {"input": "select", "options": ["contribution", "mean", "frequency"]}, "value": "contribution", "views": ["view_1", "view_3"]}, {"name": "param_2", "select": {"type": "interval", "encodings": ["y"]}, "views": ["view_2"]}, {"name": "param_3", "select": {"type": "interval", "encodings": ["y"]}, "views": ["view_4"]}], "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-85171f6d95b64eccc4f33e1edafc4568": [{"feature": "Process temperature [K]", "importance": 0.0, "importance_label": "0.0%"}, {"feature": "Type", "importance": 0.010689167023169282, "importance_label": "1.1%"}, {"feature": "Tool wear [min]", "importance": 0.040013536001665594, "importance_label": "4.0%"}, {"feature": "Air temperature [K]", "importance": 0.10804910127156683, "importance_label": "10.8%"}, {"feature": "Torque [Nm]", "importance": 0.3428250419432102, "importance_label": "34.3%"}, {"feature": "Rotational speed [rpm]", "importance": 0.49842315376038804, "importance_label": "49.8%"}], "data-15909cd674847a01aefc7278f33eb52f": [{"index": 0, "value": "H", "contribution": -0.004153573033897188, "mean": 0.01608187134502924, "frequency": 0.10208955223880598, "feature": "Type", "score_label": "-0.4"}, {"index": 1, "value": "M", "contribution": -0.000967552293424214, "mean": 0.03273809523809524, "frequency": 0.3008955223880597, "feature": "Type", "score_label": "-0.1"}, {"index": 2, "value": "L", "contribution": 0.021124044439256057, "mean": 0.04025, "frequency": 0.5970149253731343, "feature": "Type", "score_label": "2.1"}, {"index": 3, "value": "Null", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Type", "score_label": "0.0"}, {"index": 0, "value": "-inf - 301.75", "contribution": -0.006475834526553804, "mean": 0.023376125694577504, "frequency": 0.778955223880597, "feature": "Air temperature [K]", "score_label": "-0.6"}, {"index": 1, "value": "301.75 - 302.15", "contribution": 0.0803923803941034, "mean": 0.0959409594095941, "frequency": 0.04044776119402985, "feature": "Air temperature [K]", "score_label": "8.0"}, {"index": 2, "value": "302.15 - 302.35", "contribution": 0.021255725869578246, "mean": 0.051470588235294115, "frequency": 0.04059701492537313, "feature": "Air temperature [K]", "score_label": "2.1"}, {"index": 3, "value": "302.35 - 302.55", "contribution": 0.06157609254114416, "mean": 0.08994708994708994, "frequency": 0.028208955223880595, "feature": "Air temperature [K]", "score_label": "6.2"}, {"index": 4, "value": "302.55 - 302.95", "contribution": 0.07401243386894873, "mean": 0.09900990099009901, "frequency": 0.030149253731343282, "feature": "Air temperature [K]", "score_label": "7.4"}, {"index": 5, "value": "302.95 - 303.45", "contribution": 0.12979342792264414, "mean": 0.1513513513513513, "frequency": 0.027611940298507463, "feature": "Air temperature [K]", "score_label": "13.0"}, {"index": 6, "value": "303.45 - inf", "contribution": -0.0008240487113308931, "mean": 0.03038674033149171, "frequency": 0.054029850746268655, "feature": "Air temperature [K]", "score_label": "-0.1"}, {"index": 7, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Air temperature [K]", "score_label": "0.0"}, {"index": 0, "value": "-inf - inf", "contribution": 0.0, "mean": 0.035522388059701496, "frequency": 1.0, "feature": "Process temperature [K]", "score_label": "0.0"}, {"index": 1, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Process temperature [K]", "score_label": "0.0"}, {"index": 0, "value": "-inf - 1313.5", "contribution": 0.21543289802202337, "mean": 0.215962441314554, "frequency": 0.0317910447761194, "feature": "Rotational speed [rpm]", "score_label": "21.5"}, {"index": 1, "value": "1313.5 - 1341.5", "contribution": 0.17172066779697423, "mean": 0.17727272727272728, "frequency": 0.03283582089552239, "feature": "Rotational speed [rpm]", "score_label": "17.2"}, {"index": 2, "value": "1341.5 - 1364.5", "contribution": 0.13575344116501037, "mean": 0.13805970149253732, "frequency": 0.04, "feature": "Rotational speed [rpm]", "score_label": "13.6"}, {"index": 3, "value": "1364.5 - 1380.5", "contribution": 0.15996702547409208, "mean": 0.1625, "frequency": 0.03582089552238806, "feature": "Rotational speed [rpm]", "score_label": "16.0"}, {"index": 4, "value": "1380.5 - 1497.5", "contribution": -0.0074600520385695165, "mean": 0.015424164524421594, "frequency": 0.3483582089552239, "feature": "Rotational speed [rpm]", "score_label": "-0.7"}, {"index": 5, "value": "1497.5 - 1559.5", "contribution": -0.007658506662523075, "mean": 0.006433823529411764, "frequency": 0.16238805970149253, "feature": "Rotational speed [rpm]", "score_label": "-0.8"}, {"index": 6, "value": "1559.5 - 1648.5", "contribution": -0.008292369803229156, "mean": 0.0037488284910965055, "frequency": 0.15925373134328358, "feature": "Rotational speed [rpm]", "score_label": "-0.8"}, {"index": 7, "value": "1648.5 - 1988.0", "contribution": -0.008204924406535535, "mean": 0.004537205081669692, "frequency": 0.1644776119402985, "feature": "Rotational speed [rpm]", "score_label": "-0.8"}, {"index": 8, "value": "1988.0 - inf", "contribution": 0.12155645578819022, "mean": 0.1488095238095238, "frequency": 0.02507462686567164, "feature": "Rotational speed [rpm]", "score_label": "12.2"}, {"index": 9, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Rotational speed [rpm]", "score_label": "0.0"}, {"index": 0, "value": "-inf - 20.25", "contribution": 0.12218387671095345, "mean": 0.1497005988023952, "frequency": 0.024925373134328358, "feature": "Torque [Nm]", "score_label": "12.2"}, {"index": 1, "value": "20.25 - 34.35", "contribution": -0.01002980114707724, "mean": 0.004618937644341803, "frequency": 0.25850746268656716, "feature": "Torque [Nm]", "score_label": "-1.0"}, {"index": 2, "value": "34.35 - 50.85", "contribution": -0.008934780689857286, "mean": 0.01632547292044571, "frequency": 0.5759701492537314, "feature": "Torque [Nm]", "score_label": "-0.9"}, {"index": 3, "value": "50.85 - 53.55", "contribution": 0.039952251507141066, "mean": 0.062146892655367235, "frequency": 0.05283582089552239, "feature": "Torque [Nm]", "score_label": "4.0"}, {"index": 4, "value": "53.55 - 55.35", "contribution": 0.08460452810309137, "mean": 0.1099476439790576, "frequency": 0.028507462686567165, "feature": "Torque [Nm]", "score_label": "8.5"}, {"index": 5, "value": "55.35 - 59.05", "contribution": 0.11187108272054129, "mean": 0.13043478260869565, "frequency": 0.0308955223880597, "feature": "Torque [Nm]", "score_label": "11.2"}, {"index": 6, "value": "59.05 - inf", "contribution": 0.38947470587622496, "mean": 0.37894736842105264, "frequency": 0.028358208955223882, "feature": "Torque [Nm]", "score_label": "38.9"}, {"index": 7, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Torque [Nm]", "score_label": "0.0"}, {"index": 0, "value": "-inf - 199.5", "contribution": -0.006570809548944108, "mean": 0.02410223228728567, "frequency": 0.9226865671641791, "feature": "Tool wear [min]", "score_label": "-0.7"}, {"index": 1, "value": "199.5 - 210.5", "contribution": 0.15085283666542132, "mean": 0.14583333333333334, "frequency": 0.04298507462686567, "feature": "Tool wear [min]", "score_label": "15.1"}, {"index": 2, "value": "210.5 - inf", "contribution": 0.20865253568014994, "mean": 0.20434782608695654, "frequency": 0.034328358208955224, "feature": "Tool wear [min]", "score_label": "20.9"}, {"index": 3, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Tool wear [min]", "score_label": "0.0"}]}}, {"mode": "vega-lite"});
</script>