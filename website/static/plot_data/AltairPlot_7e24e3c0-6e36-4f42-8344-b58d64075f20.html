
<style>
  #altair-viz-2699f936208747539abc7ec1d8d2c8fe.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-2699f936208747539abc7ec1d8d2c8fe.vega-embed details,
  #altair-viz-2699f936208747539abc7ec1d8d2c8fe.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-2699f936208747539abc7ec1d8d2c8fe"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-2699f936208747539abc7ec1d8d2c8fe") {
      outputDiv = document.getElementById("altair-viz-2699f936208747539abc7ec1d8d2c8fe");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"mark": {"type": "bar", "color": "#0080ea"}, "encoding": {"color": {"condition": {"param": "param_1", "value": "lightgray"}, "value": "#0080ea"}, "tooltip": {"field": "importance_label", "type": "nominal"}, "x": {"field": "importance", "type": "quantitative"}, "y": {"field": "feature", "sort": {"field": "importance", "order": "descending"}, "type": "nominal"}}, "height": 400, "name": "view_1", "title": "Feature Importances", "transform": [{"filter": {"param": "param_2"}}], "width": 330}, {"mark": {"type": "bar", "color": "#0080ea"}, "encoding": {"x": {"axis": {"labels": false, "title": null}, "field": "importance", "type": "quantitative"}, "y": {"axis": {"labels": false, "title": null}, "field": "feature", "sort": "-x", "type": "nominal"}}, "height": 400, "name": "view_2", "width": 25}, {"data": {"name": "data-399393208a4ce86d1555cba9281e0f65"}, "mark": {"type": "bar", "color": "#e14067"}, "encoding": {"color": {"condition": {"test": "(datum.contribution < 0)", "value": "#e14067"}, "value": "#12b980"}, "tooltip": {"field": "score_label", "type": "nominal"}, "x": {"field": "val", "type": "quantitative"}, "y": {"field": "value", "sort": {"field": "index", "order": "descending"}, "type": "nominal"}}, "height": 400, "name": "view_3", "title": "Contributions", "transform": [{"fold": ["contribution", "mean", "frequency"], "as": ["column", "val"]}, {"filter": {"param": "Select"}}, {"filter": {"param": "param_1"}}, {"filter": {"param": "param_3"}}], "width": 330}, {"data": {"name": "data-399393208a4ce86d1555cba9281e0f65"}, "mark": {"type": "bar", "color": "#e14067"}, "encoding": {"color": {"condition": {"test": "(datum.contribution < 0)", "value": "#e14067"}, "value": "#12b980"}, "x": {"axis": {"labels": false, "title": null}, "field": "contribution", "type": "quantitative"}, "y": {"axis": {"labels": false, "title": null}, "field": "value", "sort": {"field": "index", "order": "descending"}, "type": "nominal"}}, "height": 400, "name": "view_4", "transform": [{"filter": {"param": "param_1"}}], "width": 25}], "data": {"name": "data-ee53ca5068cf733f0b164234d5bb84ec"}, "params": [{"name": "param_1", "select": {"type": "point", "fields": ["feature"]}, "value": "Rotational speed [rpm]", "views": ["view_1"]}, {"name": "Select", "select": {"type": "point", "fields": ["column"]}, "bind": {"input": "select", "options": ["contribution", "mean", "frequency"]}, "value": "contribution", "views": ["view_1", "view_3"]}, {"name": "param_2", "select": {"type": "interval", "encodings": ["y"]}, "views": ["view_2"]}, {"name": "param_3", "select": {"type": "interval", "encodings": ["y"]}, "views": ["view_4"]}], "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-ee53ca5068cf733f0b164234d5bb84ec": [{"feature": "Type", "importance": 0.0, "importance_label": "0.0%"}, {"feature": "Process temperature [K]", "importance": 0.0, "importance_label": "0.0%"}, {"feature": "Tool wear [min]", "importance": 0.040391529126176454, "importance_label": "4.0%"}, {"feature": "Air temperature [K]", "importance": 0.10908798068981923, "importance_label": "10.9%"}, {"feature": "Torque [Nm]", "importance": 0.346315384434777, "importance_label": "34.6%"}, {"feature": "Rotational speed [rpm]", "importance": 0.5042051057492273, "importance_label": "50.4%"}], "data-399393208a4ce86d1555cba9281e0f65": [{"index": 0, "value": "-inf - 301.75", "contribution": -0.007333305605373574, "mean": 0.023376125694577504, "frequency": 0.778955223880597, "feature": "Air temperature [K]", "score_label": "-0.7"}, {"index": 1, "value": "301.75 - 302.15", "contribution": 0.08219256674472186, "mean": 0.0959409594095941, "frequency": 0.04044776119402985, "feature": "Air temperature [K]", "score_label": "8.2"}, {"index": 2, "value": "302.15 - 302.35", "contribution": 0.021731694703879725, "mean": 0.051470588235294115, "frequency": 0.04059701492537313, "feature": "Air temperature [K]", "score_label": "2.2"}, {"index": 3, "value": "302.35 - 302.55", "contribution": 0.06295493517241818, "mean": 0.08994708994708994, "frequency": 0.028208955223880595, "feature": "Air temperature [K]", "score_label": "6.3"}, {"index": 4, "value": "302.55 - 302.95", "contribution": 0.0756697572691737, "mean": 0.09900990099009901, "frequency": 0.030149253731343282, "feature": "Air temperature [K]", "score_label": "7.6"}, {"index": 5, "value": "302.95 - 303.45", "contribution": 0.13269982721323492, "mean": 0.1513513513513513, "frequency": 0.027611940298507463, "feature": "Air temperature [K]", "score_label": "13.3"}, {"index": 6, "value": "303.45 - inf", "contribution": -0.0009331617429575623, "mean": 0.03038674033149171, "frequency": 0.054029850746268655, "feature": "Air temperature [K]", "score_label": "-0.1"}, {"index": 7, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Air temperature [K]", "score_label": "0.0"}, {"index": 0, "value": "-inf - inf", "contribution": 0.0, "mean": 0.035522388059701496, "frequency": 1.0, "feature": "Process temperature [K]", "score_label": "0.0"}, {"index": 1, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Process temperature [K]", "score_label": "0.0"}, {"index": 0, "value": "-inf - 1313.5", "contribution": 0.22025697911767247, "mean": 0.215962441314554, "frequency": 0.0317910447761194, "feature": "Rotational speed [rpm]", "score_label": "22.0"}, {"index": 1, "value": "1313.5 - 1341.5", "contribution": 0.17556592279218364, "mean": 0.17727272727272728, "frequency": 0.03283582089552239, "feature": "Rotational speed [rpm]", "score_label": "17.6"}, {"index": 2, "value": "1341.5 - 1364.5", "contribution": 0.1387933000501027, "mean": 0.13805970149253732, "frequency": 0.04, "feature": "Rotational speed [rpm]", "score_label": "13.9"}, {"index": 3, "value": "1364.5 - 1380.5", "contribution": 0.16354908703758597, "mean": 0.1625, "frequency": 0.03582089552238806, "feature": "Rotational speed [rpm]", "score_label": "16.4"}, {"index": 4, "value": "1380.5 - 1497.5", "contribution": -0.008447844244089004, "mean": 0.015424164524421594, "frequency": 0.3483582089552239, "feature": "Rotational speed [rpm]", "score_label": "-0.8"}, {"index": 5, "value": "1497.5 - 1559.5", "contribution": -0.008672576423437233, "mean": 0.006433823529411764, "frequency": 0.16238805970149253, "feature": "Rotational speed [rpm]", "score_label": "-0.9"}, {"index": 6, "value": "1559.5 - 1648.5", "contribution": -0.009390369953169879, "mean": 0.0037488284910965055, "frequency": 0.15925373134328358, "feature": "Rotational speed [rpm]", "score_label": "-0.9"}, {"index": 7, "value": "1648.5 - 1988.0", "contribution": -0.009291345832786943, "mean": 0.004537205081669692, "frequency": 0.1644776119402985, "feature": "Rotational speed [rpm]", "score_label": "-0.9"}, {"index": 8, "value": "1988.0 - inf", "contribution": 0.12427840868306317, "mean": 0.1488095238095238, "frequency": 0.02507462686567164, "feature": "Rotational speed [rpm]", "score_label": "12.4"}, {"index": 9, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Rotational speed [rpm]", "score_label": "0.0"}, {"index": 0, "value": "-inf - 20.25", "contribution": 0.12491987912862587, "mean": 0.1497005988023952, "frequency": 0.024925373134328358, "feature": "Torque [Nm]", "score_label": "12.5"}, {"index": 1, "value": "20.25 - 34.35", "contribution": -0.011357856145188631, "mean": 0.004618937644341803, "frequency": 0.25850746268656716, "feature": "Torque [Nm]", "score_label": "-1.1"}, {"index": 2, "value": "34.35 - 50.85", "contribution": -0.010117843043556285, "mean": 0.01632547292044571, "frequency": 0.5759701492537314, "feature": "Torque [Nm]", "score_label": "-1.0"}, {"index": 3, "value": "50.85 - 53.55", "contribution": 0.04084688228541948, "mean": 0.062146892655367235, "frequency": 0.05283582089552239, "feature": "Torque [Nm]", "score_label": "4.1"}, {"index": 4, "value": "53.55 - 55.35", "contribution": 0.08649903496985001, "mean": 0.1099476439790576, "frequency": 0.028507462686567165, "feature": "Torque [Nm]", "score_label": "8.6"}, {"index": 5, "value": "55.35 - 59.05", "contribution": 0.11437615590229272, "mean": 0.13043478260869565, "frequency": 0.0308955223880597, "feature": "Torque [Nm]", "score_label": "11.4"}, {"index": 6, "value": "59.05 - inf", "contribution": 0.3981960180950251, "mean": 0.37894736842105264, "frequency": 0.028358208955223882, "feature": "Torque [Nm]", "score_label": "39.8"}, {"index": 7, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Torque [Nm]", "score_label": "0.0"}, {"index": 0, "value": "-inf - 199.5", "contribution": -0.007440856355969411, "mean": 0.02410223228728567, "frequency": 0.9226865671641791, "feature": "Tool wear [min]", "score_label": "-0.7"}, {"index": 1, "value": "199.5 - 210.5", "contribution": 0.15423080875911846, "mean": 0.14583333333333334, "frequency": 0.04298507462686567, "feature": "Tool wear [min]", "score_label": "15.4"}, {"index": 2, "value": "210.5 - inf", "contribution": 0.2133247875143659, "mean": 0.20434782608695654, "frequency": 0.034328358208955224, "feature": "Tool wear [min]", "score_label": "21.3"}, {"index": 3, "value": "nan - nan", "contribution": 0.0, "mean": 0.0, "frequency": 0.0, "feature": "Tool wear [min]", "score_label": "0.0"}]}}, {"mode": "vega-lite"});
</script>